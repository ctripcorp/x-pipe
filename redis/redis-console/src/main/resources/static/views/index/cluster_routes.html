
<div class="col-md-8 col-md-offset-2">
    <h3 class="header smaller lighter blue">
        <a href="/#/cluster_list">Cluster List</a>
        <span> > </span>
        <a href="/#/cluster_list?clusterName={{clusterName}}">{{clusterName}}</a>
        <span> > </span>
        <span>Cluster Routes</span>
    </h3>
    <div>
        <div style="height:35px">
            <ul style="float:left" class="nav nav-tabs padding-18 tab-size-bigger" ng-if="dcs && dcs.length">
                <li ng-repeat="dc in dcs" ng-class="{'active': currentDcName == dc.dcName}">
                    <a ng-click="switchDc(dc)" data-toggle="tab">
                        {{dc.dcName}}
                    </a>
                </li>
            </ul>
        </div>
        <div class="tab-content" ng-if="dcs && dcs.length">
            <div>
                <div class="panel panel-primary" style="margin-top: 15px;">
                    <header class="panel-heading">
                        <div class="row">
                            <div class="col-md-6">集群使用路由</div>
                        </div>
                    </header>

                    <table class="table table-bordered table-hover">
                        <thead ng-if="usedRoutes && usedRoutes.length">
                            <tr>
                                <th>Route_id</th>
                                <th>org_name</th>
                                <th>public</th>
                                <th>src_infos</th>
                                <th>optional_infos </th>
                                <th>dst_infos</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="usedRoute in usedRoutes">
                            <td >{{usedRoute.id}}</td>
                            <td filter="{ orgName: 'text'}" sortable="'orgName'" ng-bind="usedRoute.orgName"></td>
                            <td style= "margin: 8pt 0cm 0pt 0cm;" class="{{usedRoute.public == true ? 'icon-span icon-span-select' : 'icon-span'}}"></td>
                            <td >
                                <span>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0cm;" ng-if="usedRoute.srcDcName">DcName:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;">{{usedRoute.srcDcName}} </p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0cm;"ng-if="usedRoute.srcProxies && usedRoute.srcProxies.length"> Proxies:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in usedRoute.srcProxies">{{proxy}}</p>
                                </span>
                            </td>
                            <td data-title="'optional_info'">
                                <span>
                                    <p align="left" style= "margin: 1cm 0cm 0pt 0cm;" ng-if="usedRoute.optionalProxies && usedRoute.optionalProxies.length"> Proxies:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in usedRoute.optionalProxies">{{proxy}}</p>
                                </span>
                            </td>
                            <td>
                                <span>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0cm;" ng-if="usedRoute.dstDcName">DcName:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;">{{usedRoute.dstDcName}} </p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0pt;" ng-if="usedRoute.dstProxies && usedRoute.dstProxies.length"> Proxies:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in usedRoute.dstProxies">{{proxy}}</p>
                                </span>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                    <p ng-if="(!usedRoutes || !usedRoutes.length)">
                        无正在使用路由
                    </p>
                </div>
            </div>

            <div>
                <div class="panel panel-primary" style="margin-top: 15px;">
                    <header class="panel-heading">
                        <div class="row">
                            <div class="col-md-6">集群指定路由</div>
                            <div class="col-md-6 text-right">
                                <a class="btn btn-primary btn-sm" href="/#/cluster_designated_routes_update?clusterName={{clusterName}}&srcDcName={{currentDcName}}">编辑</a>
                            </div>
                        </div>
                    </header>
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>Route_id</th>
                                <th>org_name</th>
                                <th>public</th>
                                <th>src_infos</th>
                                <th>optional_infos </th>
                                <th>dst_infos</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="designatedRoute in designatedRoutes">
                                <td >{{designatedRoute.id}}</td>
                                <td filter="{ orgName: 'text'}" sortable="'orgName'" ng-bind="designatedRoute.orgName"></td>
                                <td style= "margin: 8pt 0cm 0pt 0cm;" class="{{designatedRoute.public == true ? 'icon-span icon-span-select' : 'icon-span'}}"></td>
                                <td >
                                    <span>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 0cm;" ng-if="designatedRoute.srcDcName">DcName:</p>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 10pt;">{{designatedRoute.srcDcName}} </p>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 0cm;"ng-if="designatedRoute.srcProxies && designatedRoute.srcProxies.length"> Proxies:</p>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in designatedRoute.srcProxies">{{proxy}}</p>
                                    </span>
                                </td>
                                <td data-title="'optional_info'">
                                    <span>
                                        <p align="left" style= "margin: 1cm 0cm 0pt 0cm;" ng-if="designatedRoute.optionalProxies && designatedRoute.optionalProxies.length"> Proxies:</p>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in designatedRoute.optionalProxies">{{proxy}}</p>
                                    </span>
                                </td>
                                <td>
                                    <span>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 0cm;" ng-if="designatedRoute.dstDcName">DcName:</p>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 10pt;">{{designatedRoute.dstDcName}} </p>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 0pt;" ng-if="designatedRoute.dstProxies && designatedRoute.dstProxies.length"> Proxies:</p>
                                        <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in designatedRoute.dstProxies">{{proxy}}</p>
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p ng-if="(!designatedRoutes || !designatedRoutes.length)">无指定路由</p>
                </div>
            </div>

            <div>
                <div>
                    <div class="panel panel-primary" style="margin-top: 15px;">
                        <header class="panel-heading">
                            <div class="row">
                                <div class="col-md-6">集群选择路由</div>
                            </div>
                        </header>

                        <table class="table table-bordered table-hover">
                            <thead ng-if="chooseRoutes && chooseRoutes.length">
                            <tr>
                                <th>Route_id</th>
                                <th>org_name</th>
                                <th>public</th>
                                <th>src_infos</th>
                                <th>optional_infos </th>
                                <th>dst_infos</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="chooseRoute in chooseRoutes">
                                <td >{{chooseRoute.id}}</td>
                                <td filter="{ orgName: 'text'}" sortable="'orgName'" ng-bind="chooseRoute.orgName"></td>
                                <td style= "margin: 8pt 0cm 0pt 0cm;" class="{{chooseRoute.public == true ? 'icon-span icon-span-select' : 'icon-span'}}"></td>
                                <td >
                                <span>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0cm;" ng-if="chooseRoute.srcDcName">DcName:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;">{{chooseRoute.srcDcName}} </p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0cm;"ng-if="chooseRoute.srcProxies && chooseRoute.srcProxies.length"> Proxies:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in chooseRoute.srcProxies">{{proxy}}</p>
                                </span>
                                </td>
                                <td data-title="'optional_info'">
                                <span>
                                    <p align="left" style= "margin: 1cm 0cm 0pt 0cm;" ng-if="chooseRoute.optionalProxies && chooseRoute.optionalProxies.length"> Proxies:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in chooseRoute.optionalProxies">{{proxy}}</p>
                                </span>
                                </td>
                                <td>
                                <span>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0cm;" ng-if="chooseRoute.dstDcName">DcName:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;">{{chooseRoute.dstDcName}} </p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 0pt;" ng-if="chooseRoute.dstProxies && chooseRoute.dstProxies.length"> Proxies:</p>
                                    <p align="left" style= "margin: 0cm 0cm 0pt 10pt;" ng-repeat="proxy in chooseRoute.dstProxies">{{proxy}}</p>
                                </span>
                                </td>
                            </tr>

                            </tbody>
                        </table>
                        <p ng-if="(!chooseRoutes || !chooseRoutes.length)">
                            无选中路由
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>